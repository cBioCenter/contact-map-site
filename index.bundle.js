(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"./index.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-dom/index.js"),a=n("./node_modules/react-redux/es/index.js"),s=n("./src/index.ts"),i=s.configureStore();o.render(r.createElement(a.Provider,{store:i},r.createElement(s.ContactMapSitePage,null)),document.getElementById("contact-map-root"))},"./node_modules/anatomogram/lib/img sync recursive ^\\.\\/.*selected\\.png$":function(e,t,n){var r={"./brain.selected.png":"./node_modules/anatomogram/lib/img/brain.selected.png","./brain.unselected.png":"./node_modules/anatomogram/lib/img/brain.unselected.png","./female.selected.png":"./node_modules/anatomogram/lib/img/female.selected.png","./female.unselected.png":"./node_modules/anatomogram/lib/img/female.unselected.png","./flower_parts.selected.png":"./node_modules/anatomogram/lib/img/flower_parts.selected.png","./flower_parts.unselected.png":"./node_modules/anatomogram/lib/img/flower_parts.unselected.png","./male.selected.png":"./node_modules/anatomogram/lib/img/male.selected.png","./male.unselected.png":"./node_modules/anatomogram/lib/img/male.unselected.png","./whole_plant.selected.png":"./node_modules/anatomogram/lib/img/whole_plant.selected.png","./whole_plant.unselected.png":"./node_modules/anatomogram/lib/img/whole_plant.unselected.png"};function o(e){var t=a(e);return n(t)}function a(e){if(n.o(r,e))return r[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}o.keys=function(){return Object.keys(r)},o.resolve=a,(e.exports=o).id="./node_modules/anatomogram/lib/img sync recursive ^\\.\\/.*selected\\.png$"},"./node_modules/anatomogram/lib/svg sync recursive ^\\.\\/.*\\.svg$":function(e,t,n){var r={"./anolis_carolinensis.svg":"./node_modules/anatomogram/lib/svg/anolis_carolinensis.svg","./arabidopsis_thaliana.svg":"./node_modules/anatomogram/lib/svg/arabidopsis_thaliana.svg","./bos_taurus.svg":"./node_modules/anatomogram/lib/svg/bos_taurus.svg","./brachypodium_distachyon.flower_parts.svg":"./node_modules/anatomogram/lib/svg/brachypodium_distachyon.flower_parts.svg","./brachypodium_distachyon.whole_plant.svg":"./node_modules/anatomogram/lib/svg/brachypodium_distachyon.whole_plant.svg","./gallus_gallus.svg":"./node_modules/anatomogram/lib/svg/gallus_gallus.svg","./homo_sapiens.brain.svg":"./node_modules/anatomogram/lib/svg/homo_sapiens.brain.svg","./homo_sapiens.female.svg":"./node_modules/anatomogram/lib/svg/homo_sapiens.female.svg","./homo_sapiens.male.svg":"./node_modules/anatomogram/lib/svg/homo_sapiens.male.svg","./hordeum_vulgare.flower_parts.svg":"./node_modules/anatomogram/lib/svg/hordeum_vulgare.flower_parts.svg","./hordeum_vulgare.whole_plant.svg":"./node_modules/anatomogram/lib/svg/hordeum_vulgare.whole_plant.svg","./macaca_mulatta.svg":"./node_modules/anatomogram/lib/svg/macaca_mulatta.svg","./monodelphis_domestica.svg":"./node_modules/anatomogram/lib/svg/monodelphis_domestica.svg","./mus_musculus.brain.svg":"./node_modules/anatomogram/lib/svg/mus_musculus.brain.svg","./mus_musculus.female.svg":"./node_modules/anatomogram/lib/svg/mus_musculus.female.svg","./mus_musculus.male.svg":"./node_modules/anatomogram/lib/svg/mus_musculus.male.svg","./oryza_sativa.flower_parts.svg":"./node_modules/anatomogram/lib/svg/oryza_sativa.flower_parts.svg","./oryza_sativa.whole_plant.svg":"./node_modules/anatomogram/lib/svg/oryza_sativa.whole_plant.svg","./papio_anubis.svg":"./node_modules/anatomogram/lib/svg/papio_anubis.svg","./rattus_norvegicus.svg":"./node_modules/anatomogram/lib/svg/rattus_norvegicus.svg","./solanum_lycopersicum.flower_parts.svg":"./node_modules/anatomogram/lib/svg/solanum_lycopersicum.flower_parts.svg","./solanum_lycopersicum.whole_plant.svg":"./node_modules/anatomogram/lib/svg/solanum_lycopersicum.whole_plant.svg","./solanum_tuberosum.svg":"./node_modules/anatomogram/lib/svg/solanum_tuberosum.svg","./sorghum_bicolor.flower_parts.svg":"./node_modules/anatomogram/lib/svg/sorghum_bicolor.flower_parts.svg","./sorghum_bicolor.whole_plant.svg":"./node_modules/anatomogram/lib/svg/sorghum_bicolor.whole_plant.svg","./tetraodon_nigroviridis.svg":"./node_modules/anatomogram/lib/svg/tetraodon_nigroviridis.svg","./triticum_aestivum.flower_parts.svg":"./node_modules/anatomogram/lib/svg/triticum_aestivum.flower_parts.svg","./triticum_aestivum.whole_plant.svg":"./node_modules/anatomogram/lib/svg/triticum_aestivum.whole_plant.svg","./xenopus_tropicalis.svg":"./node_modules/anatomogram/lib/svg/xenopus_tropicalis.svg","./zea_mays.flower_parts.svg":"./node_modules/anatomogram/lib/svg/zea_mays.flower_parts.svg","./zea_mays.whole_plant.svg":"./node_modules/anatomogram/lib/svg/zea_mays.whole_plant.svg"};function o(e){var t=a(e);return n(t)}function a(e){if(n.o(r,e))return r[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}o.keys=function(){return Object.keys(r)},o.resolve=a,(e.exports=o).id="./node_modules/anatomogram/lib/svg sync recursive ^\\.\\/.*\\.svg$"},"./src/component/ErrorMessageComponent.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),g=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n("./node_modules/bioblocks-viz/lib/index.js"),_=n("./node_modules/react/index.js"),i=n("./node_modules/semantic-ui-react/dist/es/index.js"),l=(a=_.Component,o(c,a),c.prototype.render=function(){var e=this.props,t=e.couplingScores,n=e.errorMsg,r=e.mismatches,o=e.pdbData;return 1<=r.length||1<=n.length?_.createElement(i.Message,{warning:!0},1<=r.length&&o?_.createElement("div",null,_.createElement(i.Message.Header,null,"Residue numbering mismatch detected. Please upload a file to correct the position numbering differences.",_.createElement("br",null),"EVCouplings and EVFold outputs this file in the ",_.createElement("strong",null,"OUTPUT")," directory.\n                This file might be named similar to\n                '"+o.name+".csv' or '"+o.name+".indextableplus'"),_.createElement(i.Message.List,null,n),_.createElement(i.Message.Content,null,_.createElement(i.Accordion,{fluid:!0,exclusive:!1,defaultActiveIndex:[],panels:[this.renderSequenceAccordionMessage("PDB sequence",o.sequence,r,"pdb"),this.renderSequenceAccordionMessage("Couplings Score sequence",t.sequence,r,"coupling")]}))):n):null},c.defaultProps={couplingScores:new s.CouplingContainer,errorMsg:"",mismatches:[]},c);function c(e){var t=a.call(this,e)||this;return t.renderSequenceAccordionMessage=function(e,t,n,r){var o,a,s=0,i=n[0].resno,l=new Array;try{for(var c=g(n),u=c.next();!u.done;u=c.next()){var d=u.value,m="pdb"===r?d.pdbAminoAcid:d.couplingAminoAcid,p=t.indexOf(m.singleLetterCode,s+(d.resno-i));0<=p&&(l.push(_.createElement(_.Fragment,{key:"mismatch-"+d.resno},_.createElement("span",{style:{color:"black",fontSize:"12px"}},t.substring(s,p)),_.createElement("span",{style:{color:"red",fontSize:"16px",textDecoration:"underline"}},t.charAt(p)))),i=d.resno+1,s=p+1)}}catch(e){o={error:e}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}return l.push(_.createElement("span",{key:"mismatch-final",style:{color:"black",fontSize:"12px"}},t.substring(s))),{content:{content:_.createElement("p",{style:{width:"80%",wordBreak:"break-word"}},l)},key:"panel-"+e,title:{content:e+" ("+t.length+" Amino Acids)"}}},t}t.ErrorMessageComponent=l},"./src/component/FolderUploadComponent.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a,c=n("./node_modules/react/index.js"),u=n("./node_modules/react-dropzone/dist/es/index.js"),d=n("./node_modules/semantic-ui-react/dist/es/index.js"),s=(a=c.Component,o(m,a),m.prototype.render=function(){var e=this.props,t=e.onDrop,n=e.style,s=i({},m.defaultProps.style,n);return c.createElement(u.default,{onDrop:t},function(e){var t=e.getRootProps,n=e.getInputProps,r=t(),o=r.ref,a=l(r,["ref"]);return c.createElement("div",i({ref:o,style:s},a),c.createElement("input",i({},n())),c.createElement(d.Label,{size:"massive"},c.createElement(d.Icon,{name:"upload",size:"large"}),"Drop 'em here!"))})},m.defaultProps={style:{backgroundColor:"lightblue",border:"7px dashed blue",height:"90vmin",textAlign:"center"}},m);function m(e){return a.call(this,e)||this}t.FolderUploadComponent=s},"./src/component/index.ts":function(e,n,t){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(t("./src/component/ErrorMessageComponent.tsx")),r(t("./src/component/FolderUploadComponent.tsx"))},"./src/container/SiteHeader.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a,s=n("./node_modules/react/index.js"),i=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/react-router-dom/es/index.js"),c=n("./node_modules/semantic-ui-react/dist/es/index.js"),u=(a=s.Component,o(d,a),d.prototype.componentDidMount=function(){this.setState({currentPageName:this.props.pathname})},d.prototype.componentDidUpdate=function(e){this.props.pathname&&this.props.pathname!==this.state.currentPageName&&this.setState({currentPageName:this.props.pathname})},d.prototype.render=function(){return s.createElement(c.Header,null,s.createElement(c.Menu,{secondary:!0,borderless:!0,fluid:!0,style:{maxHeight:"40px",padding:"20px 0 0 0"}},s.createElement(c.Menu.Item,{fitted:"vertically",position:"left"},s.createElement(l.Link,{to:"/"},s.createElement("img",{alt:"hca-dynamics-icon",src:"assets/icons/bio-blocks-icon-2x.png",style:{height:"32px",width:"32px"}}),s.createElement("span",{style:{color:"black",fontSize:"32px",fontWeight:"bold"}},"ContactMap.org: 2D and 3D Protein Visualization")))),this.renderNavMenu())},d);function d(e){var t=a.call(this,e)||this;return t.renderNavMenu=function(){var e=t.state.currentPageName;return s.createElement(c.Menu,{defaultActiveIndex:-1,secondary:!0},s.createElement(c.Menu.Item,{key:"home"},s.createElement(l.Link,{to:"/",style:{color:"black",fontSize:"18px",fontWeight:"/"===e?"bold":"normal"}},"Home")),s.createElement(c.Menu.Item,{key:"manuscript"},s.createElement(l.Link,{to:"/manuscript",style:{color:"black",fontSize:"18px",fontWeight:"/manuscript"===e?"bold":"normal"}},"Manuscripts")))},t.state={currentPageName:null},t}t.UnconnectedSiteHeader=u;t.SiteHeader=i.connect(function(e){return{pathname:e.router.location.pathname}})(u)},"./src/container/index.ts":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t("./src/container/SiteHeader.tsx"))},"./src/index.ts":function(e,n,t){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(t("./src/component/index.ts")),r(t("./src/container/index.ts")),r(t("./src/page/index.ts")),r(t("./src/reducer/index.ts"))},"./src/page/ContactMapSitePage.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a,s=n("./node_modules/connected-react-router/esm/index.js"),i=n("./node_modules/react/index.js"),l=n("./node_modules/react-router-dom/es/index.js"),c=n("./node_modules/semantic-ui-react/dist/es/index.js"),u=n("./src/container/index.ts"),d=n("./src/page/index.ts"),m=n("./src/reducer/index.ts"),p=(a=i.Component,o(g,a),g.prototype.render=function(){return i.createElement(s.ConnectedRouter,{history:m.history},i.createElement(c.Container,{id:"ContactMapSitePage",fluid:!0},i.createElement(u.SiteHeader,null),i.createElement(l.Switch,null,i.createElement(l.Route,{path:"/manuscript",render:this.renderManuscriptPage}),i.createElement(l.Route,{exact:!0,path:"/",render:this.renderVisualizationPage}))))},g);function g(){var e=null!==a&&a.apply(this,arguments)||this;return e.renderVisualizationPage=function(){return i.createElement(d.VisualizationPage,null)},e.renderManuscriptPage=function(){return i.createElement(d.ManuscriptPage,null)},e}t.ContactMapSitePage=p},"./src/page/ManuscriptPage.tsx":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a,s=n("./node_modules/react/index.js"),i=(a=s.Component,o(l,a),l.prototype.render=function(){return s.createElement("div",null,"Here there be manuscripts")},l);function l(){return null!==a&&a.apply(this,arguments)||this}t.ManuscriptPage=i},"./src/page/VisualizationPage.tsx":function(e,t,n){"use strict";var r,o,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=this&&this.__assign||function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=this&&this.__awaiter||function(a,s,i,l){return new(i||(i=Promise))(function(e,t){function n(e){try{o(l.next(e))}catch(e){t(e)}}function r(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new i(function(e){e(t.value)}).then(n,r)}o((l=l.apply(a,s||[])).next())})},b=this&&this.__generator||function(n,r){var o,a,s,e,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,a=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=0<(s=i.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=r.call(n,i)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},y=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var c,P=n("./node_modules/bioblocks-viz/lib/index.js"),u=n("./node_modules/react/index.js"),i=n("./node_modules/react-redux/es/index.js"),d=n("./node_modules/redux/es/redux.js"),m=n("./node_modules/semantic-ui-react/dist/es/index.js"),p=n("./src/component/index.ts"),g=(c=u.Component,a(_,c),_.prototype.componentDidMount=function(){window.addEventListener("dragover",this.onDragOver)},_.prototype.componentDidUpdate=function(e,t){var n,r=this.state,o=r.measuredProximity,a=r.pdbData,s=this.state[P.VIZ_TYPE.CONTACT_MAP].couplingScores,i="",l=this.state.mismatches;!a||s===t[P.VIZ_TYPE.CONTACT_MAP].couplingScores&&a===t.pdbData||1<=(l=P.getPDBAndCouplingMismatch(a,s)).length&&(i="Error details: "+l.length+" mismatch(es) detected between coupling scores and PDB!        For example, residue number "+l[0].resno+" is '"+l[0].pdbAminoAcid.threeLetterCode+"' in the PDB but '"+l[0].couplingAminoAcid.threeLetterCode+"' in the coupling scores file."),a&&o!==t.measuredProximity?this.setState(((n={})[P.VIZ_TYPE.CONTACT_MAP]={couplingScores:a.amendPDBWithCouplingScores(s.rankedContacts,o),pdbData:{known:this.state.pdbData},secondaryStructures:[]},n.errorMsg=i,n.mismatches=l,n)):1<=i.length&&this.setState({errorMsg:i,mismatches:l})},_.prototype.render=function(e,t){var n=(void 0===e?this.props:e).style,r=void 0===t?this.state:t,o=r.errorMsg,a=r.isDragHappening,s=r.mismatches,i=r.pdbData;return u.createElement("div",{id:"BioblocksVizApp",style:l({},n,{height:"1000px"})},u.createElement(m.Modal,{closeOnDimmerClick:!0,closeOnEscape:!0,closeOnPortalMouseLeave:!0,onClose:this.onCloseUpload,open:a,size:"fullscreen"},u.createElement(p.FolderUploadComponent,{onDrop:this.onFolderUpload})),u.createElement(p.ErrorMessageComponent,{couplingScores:this.state[P.VIZ_TYPE.CONTACT_MAP].couplingScores,errorMsg:o,pdbData:i,mismatches:s}),!i&&this.renderStartMessage(),this.renderCouplingComponents(),this.renderFooter())},_.defaultProps={clearAllResidues:P.EMPTY_FUNCTION,clearAllSecondaryStructures:P.EMPTY_FUNCTION,style:{backgroundColor:"#ffffff"}},_.initialState=((o={})[P.VIZ_TYPE.CONTACT_MAP]={couplingScores:new P.CouplingContainer,pdbData:void 0,secondaryStructures:[]},o.arePredictionsAvailable=!1,o.availablePdbFiles=[],o.errorMsg="",o.filenames={},o.isDragHappening=!1,o.isLoading=!1,o.measuredProximity=P.CONTACT_DISTANCE_PROXIMITY.CLOSEST,o.mismatches=[],o.pdbData=void 0,o.residueMapping=[],o),_);function _(e){var i=c.call(this,e)||this;return i.onDragOver=function(e){e.stopPropagation(),window.removeEventListener("dragover",i.onDragOver),i.setState({isDragHappening:!0})},i.onCloseUpload=function(){window.addEventListener("dragover",i.onDragOver),i.setState({isDragHappening:!1})},i.renderCouplingComponents=function(e,t){var n=(void 0===e?i.props:e).style,r=void 0===t?i.state:t,o=r.arePredictionsAvailable,a=r.measuredProximity,s=r.pdbData;return u.createElement(m.Segment,{attached:!0,raised:!0},u.createElement(m.Grid,{centered:!0,padded:!0,relaxed:!0},i.renderButtonsRow(),u.createElement(m.Grid.Row,null,u.createElement("br",null)),u.createElement(m.GridRow,{columns:2,verticalAlign:"bottom"},u.createElement(m.GridColumn,{width:7},i.renderContactMapCard(o,"500px",n,s)),u.createElement(m.GridColumn,{width:7},i.renderNGLCard(a,s)))))},i.renderFooter=function(){return u.createElement("footer",{style:{padding:"25vh 0 25px 25px"}},u.createElement(u.Fragment,null,"Powered by ",u.createElement("a",{href:"https://github.com/cBioCenter/bioblocks-viz"},"Bioblocks"),"!"))},i.renderStartMessage=function(){return u.createElement(m.Message,null,"To get started, please drag and drop onto the page either:",u.createElement("br",null),"(1) An evcouplings results directory.",u.createElement("br",null),"(2) Individual .pdb, coupling scores",u.createElement(m.Popup,{trigger:u.createElement("a",null,"(?)"),content:"A file that ends as 'CouplingScores.csv'"}),", and residue mapping files",u.createElement(m.Popup,{trigger:u.createElement("a",null,"(?)"),content:"A .csv file that starts with 'residue_mapping' - or - A file that ends in .indextable / .indextableplus"}),".",u.createElement("br",null),u.createElement("br",null)," Check out the",u.createElement("a",{href:"http://evfold.org"}," EVFold")," or",u.createElement("a",{href:"https://evcouplings.org/"}," EVCouplings ")," website to get these files.")},i.renderContactMapCard=function(e,t,n,r){return e?u.createElement(P.PredictedContactMap,{data:{couplingScores:i.state[P.VIZ_TYPE.CONTACT_MAP].couplingScores,pdbData:{known:r},secondaryStructures:i.state[P.VIZ_TYPE.CONTACT_MAP].secondaryStructures},height:t,isDataLoading:i.state.isLoading,style:n,width:t}):u.createElement(P.ContactMap,{data:{couplingScores:i.state[P.VIZ_TYPE.CONTACT_MAP].couplingScores,pdbData:{known:r},secondaryStructures:i.state[P.VIZ_TYPE.CONTACT_MAP].secondaryStructures},height:t,isDataLoading:i.state.isLoading,style:n,width:t})},i.renderNGLCard=function(e,t){return u.createElement(P.NGLContainer,{data:t,isDataLoading:i.state.isLoading,measuredProximity:e,onMeasuredProximityChange:i.onMeasuredProximityChange()})},i.onPdbFileChange=function(e,t){var n=i.state.availablePdbFiles,r=t.value;i.setState({filenames:l({},i.state.filenames,{pdb:r+".pdb"}),pdbData:n.find(function(e){return 0===e.name.localeCompare(r)})})},i.renderButtonsRow=function(){return u.createElement(m.GridRow,{textAlign:"right",verticalAlign:"bottom"},u.createElement(m.GridColumn,{floated:"right",style:{height:"100%",width:"auto"}},i.renderPdbDropdown()),u.createElement(m.GridColumn,{style:{height:"100%",width:"auto"}},i.renderClearAllButton()))},i.renderClearAllButton=function(){return u.createElement(m.Button,{icon:"trash",label:{content:"Clean View"},labelPosition:"right",onClick:i.onClearAll(),style:{height:"100%"}})},i.renderPdbDropdown=function(){var e=i.state,t=e.availablePdbFiles,n=e.pdbData;return u.createElement(m.Dropdown,{button:!0,disabled:0===t.length,onChange:i.onPdbFileChange,options:t.map(function(e,t){return{key:"pdb-dropdown-"+t,text:e.name,value:e.name}}),scrolling:!0,search:1<=t.length,selection:!0,text:n&&n.nglStructure?n.name:"No PDB selected!"})},i.onClearAll=function(){return function(){return s(i,void 0,void 0,function(){var t,n,r;return b(this,function(e){return t=this.props,n=t.clearAllResidues,r=t.clearAllSecondaryStructures,this.setState(_.initialState),n(),r(),this.forceUpdate(),[2]})})}},i.onFolderUpload=function(v){return s(i,void 0,void 0,function(){var t,n,r,o,a,s,i,l,c,u,d,m,p,g,_,h,f;return b(this,function(e){switch(e.label){case 0:return this.onCloseUpload(),[4,this.onClearAll()()];case 1:e.sent(),o=this.state.measuredProximity,a=new Array,this.setState({isDragHappening:!1,isLoading:!0}),s={couplings:"",pdb:"",residue_mapper:""},i="",l=P.BioblocksPDB.createEmptyPDB(),c=[],u=[],e.label=2;case 2:e.trys.push([2,9,10,11]),d=y(v),m=d.next(),e.label=3;case 3:return m.done?[3,8]:(p=m.value).name.endsWith(".pdb")?[4,P.BioblocksPDB.createPDB(p)]:[3,5];case 4:return l=e.sent(),s.pdb=p.name,a.push(l),[3,7];case 5:return[4,P.readFileAsText(p)];case 6:g=e.sent(),p.name.endsWith("indextable")||p.name.endsWith("indextableplus")||p.name.startsWith("residue_mapping")?(c=P.generateResidueMapping(g),s.residue_mapper=p.name):p.name.endsWith("CouplingScores.csv")?(i=g,s.couplings=p.name):p.name.endsWith("distance_map_multimer.csv")&&(u=new Array,g.split("\n").slice(1).filter(function(e){return 3<=e.split(",").length}).forEach(function(e){var t=e.split(","),n=parseFloat(t[1]),r=t[2];u[u.length-1]&&u[u.length-1].label===r?u[u.length-1].updateEnd(n):u.push(new P.Bioblocks1DSection(r,n))})),e.label=7;case 7:return m=d.next(),[3,3];case 8:return[3,11];case 9:return _=e.sent(),t={error:_},[3,11];case 10:try{m&&!m.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}return[7];case 11:return h=P.getCouplingScoresData(i,c),h=l.amendPDBWithCouplingScores(h.rankedContacts,o),f=l.getResidueNumberingMismatches(h),this.setState(((r={})[P.VIZ_TYPE.CONTACT_MAP]={couplingScores:h,pdbData:{known:l},secondaryStructures:1<=u.length?[u]:l.secondaryStructureSections},r.arePredictionsAvailable=!0,r.availablePdbFiles=a,r.errorMsg="",r.filenames=s,r.isLoading=!1,r.mismatches=f,r.pdbData=l,r)),[2]}})})},i.onMeasuredProximityChange=function(){return function(e){i.setState({measuredProximity:Object.values(P.CONTACT_DISTANCE_PROXIMITY)[e]})}},i.state=_.initialState,i}t.VisualizationPageClass=g;t.VisualizationPage=i.connect(null,function(e){return d.bindActionCreators({clearAllResidues:function(){return l({},P.createResiduePairActions().candidates.clear(),P.createResiduePairActions().hovered.clear(),P.createResiduePairActions().locked.clear())},clearAllSecondaryStructures:function(){return l({},P.createContainerActions("secondaryStructure/hovered").clear(),P.createContainerActions("secondaryStructure/selected").clear())}},e)})(g)},"./src/page/index.ts":function(e,n,t){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(t("./src/page/ContactMapSitePage.tsx")),r(t("./src/page/ManuscriptPage.tsx")),r(t("./src/page/VisualizationPage.tsx"))},"./src/reducer/ContactMapSiteReducer.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/connected-react-router/esm/index.js"),o=n("./node_modules/redux/es/redux.js");t.ContactMapSiteReducer=function(e){return o.combineReducers({router:r.connectRouter(e)})}},"./src/reducer/Store.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/bioblocks-viz/lib/index.js"),o=n("./node_modules/connected-react-router/esm/index.js"),a=n("./node_modules/history/esm/history.js"),s=(n("./node_modules/redux-logger/dist/redux-logger.js"),n("./node_modules/redux-thunk/es/index.js"));t.history=a.createHashHistory(),[s.default,o.routerMiddleware(t.history)].push(r.BioblocksMiddleware),r.ReducerRegistry.register("router",o.connectRouter(t.history)),t.configureStore=function(){return r.Store}},"./src/reducer/index.ts":function(e,n,t){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(t("./src/reducer/ContactMapSiteReducer.ts")),r(t("./src/reducer/Store.ts"))},0:function(e,t){},1:function(e,t){},2:function(e,t){},3:function(e,t){}},[["./index.tsx",1,2]]]);